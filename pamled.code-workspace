{
    "folders": [
        {
            "path": "."
        },
        {
            "path": "../paml"
        }
    ],
    "settings": {
        "python.pipenvPath": "pipenv",
        "python.terminal.activateEnvironment": false,
        "python.linting.pylintEnabled": true,
        "files.trimTrailingWhitespace": true
    },
    "launch": {
        "version": "0.2.0",
        "configurations": [
            {
                "name": "Django",
                "type": "python",
                "request": "launch",
                "program": "${workspaceFolder:pamlEd}/backend/manage.py",
                "args": [
                    "runserver"
                ],
                "django": true,
                "justMyCode": false
            },
            {
                "name": "React",
                "type": "node",
                "request": "launch",
                "cwd": "${workspaceFolder:pamlEd}/frontend/web",
                "runtimeExecutable": "npm",
                "runtimeArgs": [
                    "run",
                    "start"
                ],
                "env": {
                    "BROWSER": "none",
                }
            },
            {
                "name": "Firefox",
                "type": "firefox",
                "request": "launch",
                "url": "http://localhost:3000",
                "webRoot": "${workspaceFolder:pamlEd}/frontend/web/src"
            },
            {
                "name": "Chrome",
                "type": "chrome",
                "request": "launch",
                "url": "http://localhost:3000",
                "webRoot": "${workspaceFolder:pamlEd}/frontend/web/src"
            }
        ],
        "compounds": [
            {
                "name": "Django/React/Firefox",
                "configurations": [
                    "Django",
                    "React",
                    "Firefox"
                ]
            },
            {
                "name": "Django/React/Chrome",
                "configurations": [
                    "Django",
                    "React",
                    "Chrome"
                ]
            }
        ]
    },
    "tasks": {
        "version": "2.0.0",
        "tasks": [
            {
                "label": "Make Migrations",
                "type": "process",
                "command": "${config:python.pipenvPath}",
                "args": [
                    "run",
                    "python",
                    "${workspaceFolder:pamlEd}/backend/manage.py",
                    "makemigrations",
                    "accounts",
                    "editor",
                ],
                "presentation": {
                    "echo": true,
                    "reveal": "always",
                    "focus": true,
                    "panel": "shared",
                    "showReuseMessage": true,
                    "clear": true
                },
                "problemMatcher": []
            },
            {
                "label": "Migrate",
                "type": "process",
                "command": "${config:python.pipenvPath}",
                "args": [
                    "run",
                    "python",
                    "${workspaceFolder:pamlEd}/backend/manage.py",
                    "migrate",
                ],
                "presentation": {
                    "echo": true,
                    "reveal": "always",
                    "focus": true,
                    "panel": "shared",
                    "showReuseMessage": true,
                    "clear": true
                },
                "problemMatcher": []
            },
            {
                "label": "Create SuperUser",
                "type": "process",
                "command": "${config:python.pipenvPath}",
                "args": [
                    "run",
                    "python",
                    "${workspaceFolder:pamlEd}/backend/manage.py",
                    "createsuperuser",
                ],
                "presentation": {
                    "echo": true,
                    "reveal": "always",
                    "focus": true,
                    "panel": "shared",
                    "showReuseMessage": true,
                    "clear": true
                },
                "problemMatcher": []
            },
            {
                "label": "Nuke DB & Migrations",
                "type": "process",
                "command": "${workspaceFolder:pamlEd}/scripts/clean-all.sh",
                "args": [
                    "${workspaceFolder:pamlEd}/backend/db.sqlite3",
                    "${workspaceFolder:pamlEd}/backend/accounts/migrations",
                    "${workspaceFolder:pamlEd}/backend/editor/migrations",
                ],
                "presentation": {
                    "echo": true,
                    "reveal": "always",
                    "focus": true,
                    "panel": "shared",
                    "showReuseMessage": true,
                    "clear": true
                },
                "problemMatcher": []
            },
            {
                "label": "Clean All",
                "dependsOn": [
                    "Nuke DB & Migrations",
                    "Make Migrations",
                    "Migrate",
                    "Create SuperUser"
                ],
                "dependsOrder": "sequence",
                "problemMatcher": [
                    "$go"
                ]
            }
        ]
    }
}